---
title: "Set up dbt models & orchestrate dbt runs"
sidebarTitle: "dbt quickstart"
description: "Tutorial for setting up dbt in Mage and "
"og:image": "https://www.getdbt.com/ui/img/social/facebook.png"
---

<Warning>
  dbt integration is currently only supported when using Mage in
  [Docker](/getting-started/setup#using-docker).
</Warning>

<Frame>
   <img alt="dbt" src="https://www.getdbt.com/ui/img/social/facebook.png" width="500" />
</Frame>

## Prerequisites

1. [Docker](https://docs.docker.com/engine/install/)
2. [Git](https://git-scm.com/book/en/v2/Getting-Started-Installing-Git)

The following command will clone the repo, copy `dev.env` to `.env` and run `docker compose up` to start Mage _and_ a Postgres database.

<CodeGroup>
```bash Mac/Linux
git clone https://github.com/mage-ai/dbt-quickstart mage-dbt-quickstart \
&& cd mage-dbt-quickstart \
&& cp dev.env .env && rm dev.env \
&& docker compose up
```

```bash Windows
git clone https://github.com/mage-ai/dbt-quickstart mage-dbt-quickstart 
cd mage-dbt-quickstart
cp dev.env .env
rm dev.env
docker compose up
```

</CodeGroup>


After running the above command, you'll see the Mage overview page. Click the pipelines icon on the left to enter the pipelines overview.

![Open Pipelines](/media/setup-dbt/go-to-pipelines.gif)

## A Simple dbt pipeline

First, select the `simple_dbt_python_pipeline` by double-clicking— this will take you directly to the editor. You can also single click,
then select the "code" icon from the side nav.

Select _Run_ + _Execute Pipeline_ to see the pipeline execute.

You just:

- Seeded a dbt model
- Performed a dbt transformation
- Took the transformed data and performed a Python transformation
- Wrote the data to a Postgres source

To see the output, you can use a querying tool (like [DataGrip](https://www.jetbrains.com/datagrip/) or [psql](https://www.postgresql.org/docs/current/app-psql.html)) to the locally hosted Postgres database and query `public.analytics.cur_customers`.

## Execute a dbt project from an external repo

Next, return to the overview page. Select the `dynamic_dbt_pipeline` by double-clicking— this will take you directly to the editor. You can also single click,
then select the "code" icon from the side nav.

Select _Run_ + _Execute Pipeline_ to see the pipeline execute.

You just:

- Pulled a GitHub repo and wrote it to your local Mage directory
- Wrote a demo `profiles.yaml` file that interpolated environment variables from your instance
- Executed `dbt build` to write data to your local postgres database

To see the output, you can use a querying tool (like DataGrip or psql) to the locally hosted Postgres database and check out the `public.analytics` schema.
